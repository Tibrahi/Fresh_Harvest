<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distributor Agreement Approval - Fresh Harvest</title>
    <link rel="icon" type="image/svg+xml" href="public/assets/distributor-favicon.svg">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .approval-form {
            background: #f3f7f0;
            border-radius: 16px;
            box-shadow: 0 2px 16px rgba(0,0,0,0.06);
            padding: 2rem 2rem 1rem 2rem;
            max-width: 520px;
            margin: 2rem auto;
        }
        .approval-form .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 1.2rem;
        }
        .approval-form label {
            font-weight: 500;
            color: #2d4a2d;
            margin-bottom: 0.5rem;
        }
        .approval-form input, .approval-form textarea {
            padding: 0.8rem 2rem;
            border: 2px solid #cde6c1;
            border-radius: 10px;
            font-size: 1rem;
            background: #fff;
            color: #222e1e;
            transition: border-color 0.2s;
        }
        .approval-form input:focus, .approval-form textarea:focus {
            border-color: #7ac142;
            outline: none;
        }
        .approval-form .primary-button {
            background: #7ac142;
            color: #fff;
            font-weight: 600;
            border: none;
            border-radius: 10px;
            padding: 1rem;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 1rem;
        }
        .approval-form .primary-button:hover {
            background: #4caf50;
        }
    </style>
</head>
<body>
    <header class="header">
        <nav>
            <div class="logo">
                <img src="public/assets/logo.svg" alt="Fresh Harvest Logo" class="logo-img">
                <span class="logo-text">Fresh Harvest</span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html#home">Home</a></li>
                <li><a href="index.html#products">Products</a></li>
                <li><a href="index.html#about">About</a></li>
                <li><a href="deliver.html">Deliver</a></li>
                <li><a href="distributor.html" class="active">Distributor Approval</a></li>
                <li><a href="partner.html">Become Partner</a></li>
                <li><a href="index.html#contact" class="cta-button">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main style="margin-top:120px;">
        <section class="distributor-approval-section">
            <div class="distributor-approval-layout">
                <div class="distributor-cards-col">
                    <h2 class="about-title">Distributor Approval Dashboard</h2>
                    <div id="distributor-cards"></div>
                </div>
                <aside class="approval-status-bar">
                    <h3>Status Overview</h3>
                    <div class="approval-lists">
                        <div>
                            <strong>Approved</strong>
                            <ul id="approved-list" class="status-list"></ul>
                        </div>
                        <div style="margin-top:1.2rem;">
                            <strong>Rejected</strong>
                            <ul id="rejected-list" class="status-list"></ul>
                        </div>
                    </div>
                </aside>
            </div>
        </section>
        <script>
        // Distributor data sample
        const distributors = Array.from({length: 30}, (_, i) => ({
            name: `Distributor ${i+1}`,
            products: ["Vegetables", "Fruits", "Grains", "Pulses"][i%4],
            location: ["California", "Texas", "Florida", "New York"][i%4] + ", USA",
            about: "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
            logo: `https://randomuser.me/api/portraits/${i%2===0?'men':'women'}/${30+i}.jpg`,
            status: null
        }));

        const cardsContainer = document.getElementById('distributor-cards');
        const approvedList = document.getElementById('approved-list');
        const rejectedList = document.getElementById('rejected-list');

        function renderCards() {
            cardsContainer.innerHTML = '';
            distributors.forEach((dist, idx) => {
                const card = document.createElement('div');
            card.className = 'distributor-card medium-card';
                card.innerHTML = `
                    <div class="distributor-info">
                        <img src="${dist.logo}" alt="Company Logo" class="distributor-logo">
                        <div>
                            <h3>${dist.name}</h3>
                            <p>Products: ${dist.products}</p>
                            <p>Location: ${dist.location}</p>
                            <p>About: ${dist.about}</p>
                        </div>
                    </div>
                    <div class="distributor-actions fit-actions">
                        <button class="approve-btn">Approve</button>
                        <button class="reject-btn">Reject</button>
                        <button class="text-btn">Text Us</button>
                        <button class="see-btn">See</button>
                    </div>
                `;
                // Approve button event
                card.querySelector('.approve-btn').addEventListener('click', () => {
                    dist.status = 'approved';
                    updateStatusBar();
                    card.remove();
                    // Store approved info
                    let approved = JSON.parse(localStorage.getItem('fh_approved_distributors')||'[]');
                    approved.push({ name: dist.name, products: dist.products, location: dist.location, date: new Date().toLocaleDateString() });
                    localStorage.setItem('fh_approved_distributors', JSON.stringify(approved));
                });
                // Reject button event
                card.querySelector('.reject-btn').addEventListener('click', () => {
                    dist.status = 'rejected';
                    updateStatusBar();
                    card.remove();
                    // Store rejected info
                    let rejected = JSON.parse(localStorage.getItem('fh_rejected_distributors')||'[]');
                    rejected.push({ name: dist.name, products: dist.products, location: dist.location, date: new Date().toLocaleDateString() });
                    localStorage.setItem('fh_rejected_distributors', JSON.stringify(rejected));
                });
                // Text Us button event
                card.querySelector('.text-btn').addEventListener('click', () => {
                    window.location.href = 'text.html';
                });
                // See button event
                card.querySelector('.see-btn').addEventListener('click', () => {
                    alert(`See more about ${dist.name}`);
                });
                cardsContainer.appendChild(card);
            });
        }

        function updateStatusBar() {
            const approved = distributors.filter(d => d.status === 'approved');
            const rejected = distributors.filter(d => d.status === 'rejected');
            approvedList.innerHTML = approved.length ? approved.map(d => `<li>${d.name}</li>`).join('') : '<li style="color:#aaa;">None</li>';
            rejectedList.innerHTML = rejected.length ? rejected.map(d => `<li>${d.name}</li>`).join('') : '<li style="color:#aaa;">None</li>';
        }

        renderCards();
        </script>
            </div>
        </section>
    </main>
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Fresh Harvest</h3>
                <p>Your trusted source for organic crops</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html#home">Home</a></li>
                    <li><a href="index.html#products">Products</a></li>
                    <li><a href="index.html#about">About</a></li>
                    <li><a href="deliver.html">Deliver</a></li>
                    <li><a href="distributor.html">Distributor Approval</a></li>
                    <li><a href="partner.html">Become Partner</a></li>
                    <li><a href="index.html#contact">Contact</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Connect With Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Fresh Harvest. All rights reserved.</p>
        </div>
    </footer>
</body>
</html>
